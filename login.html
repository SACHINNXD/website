<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: Arial, Helvetica, sans-serif;
}

body {
    background: #ffffff;
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

.form-box {
    width: 360px;
    border: 1px solid #ddd;
    padding: 24px;
    border-radius: 10px;
}

.form-box h2 {
    margin-bottom: 20px;
    text-align: center;
}

.form-box input {
    width: 100%;
    padding: 10px;
    margin-bottom: 12px;
    border: 1px solid #ccc;
    outline: none;
}

.password-box {
    position: relative;
}

.toggle-eye {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    cursor: pointer;
    font-size: 13px;
}

button {
    width: 100%;
    padding: 10px;
    border: none;
    background: #000;
    color: #fff;
    cursor: pointer;
}

.error {
    color: red;
    font-size: 13px;
    margin-bottom: 10px;
    display: none;
}

.switch {
    margin-top: 12px;
    text-align: center;
    font-size: 13px;
}
.switch a {
    text-decoration: underline;
    cursor: pointer;
}
</style>
</head>

<body>

<div class="form-box">
    <h2>Login</h2>

    <p class="error" id="errorMsg"></p>

    <input id="email" placeholder="Email">

    <div class="password-box">
        <input id="password" type="password" placeholder="Password">
        <span class="toggle-eye" onclick="togglePass()">üëÅ</span>
    </div>

    <button onclick="loginUser()">Login</button>

    <div class="switch">
        Haven‚Äôt signed up yet?
        <a href="register.html">Create account</a>
    </div>
</div>

<script>
function togglePass() {
    password.type = password.type === "password" ? "text" : "password";
}

function loginUser() {
    const email = document.getElementById("email").value.trim();
    const pass = document.getElementById("password").value;
    const error = document.getElementById("errorMsg");

    const users = JSON.parse(localStorage.getItem("users")) || [];

    const user = users.find(u => u.email === email);

    if (!user) {
        error.innerText = "No user found with this email";
        error.style.display = "block";
        return;
    }

    if (user.password !== pass) {
        error.innerText = "Incorrect password";
        error.style.display = "block";
        return;
    }

    localStorage.setItem("loggedInUser", email);
    window.location.href = "index.html";
}
</script>

</body>
</html>
